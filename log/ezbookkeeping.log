2026-01-14 23:32:33 [INFO] [initializer.initializeSystem] has loaded configuration {"Mode":"production","WorkingPath":"/Users/garyo/Workspace/Projects/Gary/ezbookkeeping","Protocol":"http","HttpAddr":"0.0.0.0","HttpPort":8080,"Domain":"localhost","RootUrl":"http://localhost:8080/","CertFile":"","CertKeyFile":"","UnixSocketPath":"","StaticRootPath":"/Users/garyo/Workspace/Projects/Gary/ezbookkeeping/public","EnableGZip":false,"EnableRequestLog":true,"EnableRequestIdHeader":true,"EnableMCPServer":false,"MCPAllowedRemoteIPs":null,"DatabaseConfig":{"DatabaseType":"sqlite3","DatabaseHost":"127.0.0.1:3306","DatabaseName":"ezbookkeeping","DatabaseUser":"root","DatabasePassword":"","DatabaseSSLMode":"","DatabasePath":"/Users/garyo/Workspace/Projects/Gary/ezbookkeeping/data/ezbookkeeping.db","MaxIdleConnection":2,"MaxOpenConnection":0,"ConnectionMaxLifeTime":14400},"EnableQueryLog":false,"AutoUpdateDatabase":true,"EnableSMTP":false,"SMTPConfig":{"SMTPHost":"127.0.0.1:25","SMTPUser":"","SMTPPasswd":"","SMTPSkipTLSVerify":false,"FromAddress":""},"LogModes":["console","file"],"EnableConsoleLog":true,"EnableFileLog":true,"LogLevel":"info","FileLogPath":"/Users/garyo/Workspace/Projects/Gary/ezbookkeeping/log/ezbookkeeping.log","RequestFileLogPath":"","QueryFileLogPath":"","LogFileRotate":false,"LogFileMaxSize":104857600,"LogFileMaxDays":7,"StorageType":"local_filesystem","LocalFileSystemPath":"/Users/garyo/Workspace/Projects/Gary/ezbookkeeping/storage","MinIOConfig":{"Endpoint":"127.0.0.1:9000","Location":"","AccessKeyID":"","SecretAccessKey":"","UseSSL":false,"SkipTLSVerify":false,"Bucket":"ezbookkeeping","RootPath":"/"},"WebDAVConfig":{"Url":"","Username":"","Password":"","RootPath":"/","RequestTimeout":10000,"Proxy":"system","SkipTLSVerify":false},"TransactionFromAIImageRecognition":false,"MaxAIRecognitionPictureFileSize":10485760,"ReceiptImageRecognitionLLMConfig":{"LLMProvider":"","OpenAIAPIKey":"","OpenAIModelID":"","OpenAICompatibleBaseURL":"","OpenAICompatibleAPIKey":"","OpenAICompatibleModelID":"","OpenRouterAPIKey":"","OpenRouterModelID":"","OllamaServerURL":"","OllamaModelID":"","GoogleAIAPIKey":"","GoogleAIModelID":"","LargeLanguageModelAPIRequestTimeout":60000,"LargeLanguageModelAPIProxy":"system","LargeLanguageModelAPISkipTLSVerify":false},"UuidGeneratorType":"internal","UuidServerId":0,"DuplicateCheckerType":"in_memory","InMemoryDuplicateCheckerCleanupInterval":60,"InMemoryDuplicateCheckerCleanupIntervalDuration":60000000000,"EnableDuplicateSubmissionsCheck":true,"DuplicateSubmissionsInterval":300,"DuplicateSubmissionsIntervalDuration":300000000000,"EnableRemoveExpiredTokens":true,"EnableCreateScheduledTransaction":true,"SecretKeyNoSet":true,"SecretKey":"****","TokenExpiredTime":2592000,"TokenExpiredTimeDuration":2592000000000000,"TokenMinRefreshInterval":86400,"TemporaryTokenExpiredTime":300,"TemporaryTokenExpiredTimeDuration":300000000000,"EmailVerifyTokenExpiredTime":3600,"EmailVerifyTokenExpiredTimeDuration":3600000000000,"PasswordResetTokenExpiredTime":3600,"PasswordResetTokenExpiredTimeDuration":3600000000000,"EnableAPIToken":false,"MaxFailuresPerIpPerMinute":5,"MaxFailuresPerUserPerMinute":5,"EnableInternalAuth":true,"EnableOAuth2Login":false,"EnableTwoFactor":true,"EnableUserForgetPassword":true,"ForgetPasswordRequireVerifyEmail":false,"OAuth2ClientID":"","OAuth2ClientSecret":"","OAuth2UsePKCE":false,"OAuth2UserIdentifier":"email","OAuth2AutoRegister":true,"OAuth2Provider":"","OAuth2StateExpiredTime":300,"OAuth2StateExpiredTimeDuration":300000000000,"OAuth2RequestTimeout":10000,"OAuth2Proxy":"system","OAuth2SkipTLSVerify":false,"OAuth2OIDCProviderIssuerURL":"","OAuth2OIDCProviderCheckIssuerURL":true,"OAuth2OIDCCustomDisplayNameConfig":{"Enabled":false,"DefaultContent":"","MultiLanguageContent":{}},"OAuth2NextcloudBaseUrl":"","OAuth2GiteaBaseUrl":"","EnableUserRegister":true,"EnableUserVerifyEmail":false,"EnableUserForceVerifyEmail":false,"EnableTransactionPictures":true,"MaxTransactionPictureFileSize":10485760,"EnableScheduledTransaction":true,"AvatarProvider":"internal","MaxAvatarFileSize":1048576,"DefaultFeatureRestrictions":0,"EnableDataExport":true,"EnableDataImport":true,"MaxImportFileSize":10485760,"LoginPageTips":{"Enabled":false,"DefaultContent":"","MultiLanguageContent":{}},"AfterRegisterNotification":{"Enabled":false,"DefaultContent":"","MultiLanguageContent":{}},"AfterLoginNotification":{"Enabled":false,"DefaultContent":"","MultiLanguageContent":{}},"AfterOpenNotification":{"Enabled":false,"DefaultContent":"","MultiLanguageContent":{}},"MapProvider":"openstreetmap","EnableMapDataFetchProxy":false,"MapProxy":"system","TomTomMapAPIKey":"","TianDiTuAPIKey":"","GoogleMapAPIKey":"","BaiduMapAK":"","AmapApplicationKey":"","AmapSecurityVerificationMethod":"internal_proxy","AmapApplicationSecret":"","AmapApiExternalProxyUrl":"","CustomMapTileServerTileLayerUrl":"","CustomMapTileServerAnnotationLayerUrl":"","CustomMapTileServerMinZoomLevel":1,"CustomMapTileServerMaxZoomLevel":18,"CustomMapTileServerDefaultZoomLevel":14,"ExchangeRatesDataSource":"euro_central_bank","ExchangeRatesRequestTimeout":10000,"ExchangeRatesRequestTimeoutExceedDefaultValue":false,"ExchangeRatesProxy":"system","ExchangeRatesSkipTLSVerify":false,"CryptocurrencyDataSource":"coingecko","CryptocurrencySymbols":["BTC","ETH","BNB","SOL","ADA","ATOM"],"CryptocurrencyRequestTimeout":10000,"CryptocurrencyProxy":"http://127.0.0.1:7897","CryptocurrencySkipTLSVerify":false,"CryptocurrencyAPIKey":""}
2026-01-14 23:32:33 [INFO] [webserver.startWebServer] static root path is /Users/garyo/Workspace/Projects/Gary/ezbookkeeping/public
2026-01-14 23:32:33 [INFO] [database.updateAllDatabaseTablesStructure] user table maintained successfully
2026-01-14 23:32:33 [INFO] [database.updateAllDatabaseTablesStructure] two-factor table maintained successfully
2026-01-14 23:32:33 [INFO] [database.updateAllDatabaseTablesStructure] two-factor recovery code table maintained successfully
2026-01-14 23:32:33 [INFO] [database.updateAllDatabaseTablesStructure] token record table maintained successfully
2026-01-14 23:32:33 [INFO] [database.updateAllDatabaseTablesStructure] account table maintained successfully
2026-01-14 23:32:33 [INFO] [database.updateAllDatabaseTablesStructure] transaction table maintained successfully
2026-01-14 23:32:33 [INFO] [database.updateAllDatabaseTablesStructure] transaction category table maintained successfully
2026-01-14 23:32:33 [INFO] [database.updateAllDatabaseTablesStructure] transaction tag table maintained successfully
2026-01-14 23:32:33 [INFO] [database.updateAllDatabaseTablesStructure] transaction tag index table maintained successfully
2026-01-14 23:32:33 [INFO] [database.updateAllDatabaseTablesStructure] transaction template table maintained successfully
2026-01-14 23:32:33 [INFO] [database.updateAllDatabaseTablesStructure] transaction picture table maintained successfully
2026-01-14 23:32:33 [INFO] [database.updateAllDatabaseTablesStructure] user custom exchange rate table maintained successfully
2026-01-14 23:32:33 [INFO] [database.updateAllDatabaseTablesStructure] user application cloud settings table maintained successfully
2026-01-14 23:32:33 [INFO] [database.updateAllDatabaseTablesStructure] user external auth table maintained successfully
2026-01-14 23:32:33 [INFO] [database.updateAllDatabaseTablesStructure] insights explorer table maintained successfully
2026-01-14 23:32:33 [INFO] [00000000-0000-0000-0000-00000000] gocron: new scheduler created
2026-01-14 23:32:33 [INFO] [cron_container.registerJob] job "RemoveExpiredTokens" has been registered
2026-01-14 23:32:33 [INFO] [cron_container.registerJob] job "CreateScheduledTransaction" has been registered
2026-01-14 23:32:33 [INFO] [00000000-0000-0000-0000-00000000] gocron: scheduler started
2026-01-14 23:32:33 [INFO] [webserver.startWebServer] current server id is 60156, current instance id is 13462, current uuid server id is 0
2026-01-14 23:32:33 [INFO] [webserver.startWebServer] will run at http://0.0.0.0:8080
2026-01-14 23:33:00 [WARNING] [eafc3496-a596-5eec-0000-00067f000001] [tokens.parseToken] token "utid:2338343406684043176" of user "uid:3774978659329245184" record not found, because token is not found
2026-01-14 23:33:00 [WARNING] [eafc3496-a596-5eec-0000-00067f000001] [tokens.parseToken] token is invalid, because token is unverifiable: error while executing keyfunc: token is not found
2026-01-14 23:33:00 [WARNING] [eafc3496-a596-5eec-0000-00067f000001] [authorization.getTokenClaims] failed to parse token, because current token is invalid
2026-01-14 23:33:00 [REQUEST] [eafc3496-a596-5eec-0000-00067f000001] 401 202002 - 127.0.0.1 POST /api/v1/tokens/refresh.json 1ms
2026-01-14 23:33:06 [INFO] [eafc3496-a599-5ef4-0000-000a7f000001] [authorizations.AuthorizeHandler] user "uid:3774978659329245184" has logged in, token type is 1, token will be expired at 1770996786
2026-01-14 23:33:06 [REQUEST] [eafc3496-a599-5ef4-0000-000a7f000001] 200 0 3774978659329245184 127.0.0.1 POST /api/authorize.json 19ms
2026-01-14 23:33:06 [REQUEST] [eafc3496-a599-5ef9-0000-00167f000001] 200 0 3774978659329245184 127.0.0.1 GET /api/v1/accounts/list.json?visible_only=false 2ms
2026-01-14 23:33:06 [REQUEST] [eafc3496-a599-5efa-0000-001e7f000001] 200 0 3774978659329245184 127.0.0.1 GET /api/v1/transaction/categories/list.json 2ms
2026-01-14 23:33:06 [REQUEST] [eafc3496-a599-5efb-0000-001a7f000001] 200 0 3774978659329245184 127.0.0.1 GET /api/v1/transactions/amounts.json?use_transaction_timezone=false&query=today_1768320000_1768406399|thisWeek_1768060800_1768665599|thisMonth_1767196800_1769875199|thisYear_1767196800_1798732799|lastMonth_1764518400_1767196799|monthBeforeLastMonth_1761926400_1764518399|monthBeforeLast2Months_1759248000_1761926399|monthBeforeLast3Months_1756656000_1759247999|monthBeforeLast4Months_1753977600_1756655999|monthBeforeLast5Months_1751299200_1753977599|monthBeforeLast6Months_1748707200_1751299199|monthBeforeLast7Months_1746028800_1748707199|monthBeforeLast8Months_1743436800_1746028799|monthBeforeLast9Months_1740758400_1743436799|monthBeforeLast10Months_1738339200_1740758399 8ms
2026-01-14 23:33:06 [REQUEST] [eafc3496-a599-5ef6-0000-00127f000001] 200 0 3774978659329245184 127.0.0.1 GET /api/v1/cryptocurrency/latest.json 843ms
2026-01-14 23:33:06 [REQUEST] [eafc3496-a599-5ef5-0000-000e7f000001] 200 0 3774978659329245184 127.0.0.1 GET /api/v1/exchange_rates/latest.json 862ms
2026-01-14 23:36:03 [INFO] [eafc3496-a5f1-e066-0000-00227f000001] [tokens.TokenRefreshHandler] token of user "uid:3774978659329245184" does not need to be refreshed
2026-01-14 23:36:03 [REQUEST] [eafc3496-a5f1-e066-0000-00227f000001] 200 0 3774978659329245184 127.0.0.1 POST /api/v1/tokens/refresh.json 1ms
2026-01-14 23:36:11 [INFO] [eafc3496-a5f5-e088-0000-00267f000001] [tokens.TokenRefreshHandler] token of user "uid:3774978659329245184" does not need to be refreshed
2026-01-14 23:36:11 [REQUEST] [eafc3496-a5f5-e088-0000-00267f000001] 200 0 3774978659329245184 127.0.0.1 POST /api/v1/tokens/refresh.json 1ms
2026-01-14 23:36:44 [INFO] [eafc3496-a606-60e2-0000-002a7f000001] [tokens.TokenRefreshHandler] token of user "uid:3774978659329245184" does not need to be refreshed
2026-01-14 23:36:44 [REQUEST] [eafc3496-a606-60e2-0000-002a7f000001] 200 0 3774978659329245184 127.0.0.1 POST /api/v1/tokens/refresh.json 1ms
2026-01-14 23:37:16 [INFO] [eafc3496-a616-611e-0000-002e7f000001] [tokens.TokenRefreshHandler] token of user "uid:3774978659329245184" does not need to be refreshed
2026-01-14 23:37:16 [REQUEST] [eafc3496-a616-611e-0000-002e7f000001] 200 0 3774978659329245184 127.0.0.1 POST /api/v1/tokens/refresh.json 1ms
2026-01-14 23:37:58 [INFO] [eafc3496-a62b-6148-0000-00327f000001] [tokens.TokenRefreshHandler] token of user "uid:3774978659329245184" does not need to be refreshed
2026-01-14 23:37:58 [REQUEST] [eafc3496-a62b-6148-0000-00327f000001] 200 0 3774978659329245184 127.0.0.1 POST /api/v1/tokens/refresh.json 2ms
2026-01-14 23:42:12 [INFO] [eafc3496-a6aa-624f-0000-00367f000001] [tokens.TokenRefreshHandler] token of user "uid:3774978659329245184" does not need to be refreshed
2026-01-14 23:42:12 [REQUEST] [eafc3496-a6aa-624f-0000-00367f000001] 200 0 3774978659329245184 127.0.0.1 POST /api/v1/tokens/refresh.json 30ms
2026-01-14 23:42:32 [INFO] [eafc3496-a6b4-626a-0000-003a7f000001] [tokens.TokenRefreshHandler] token of user "uid:3774978659329245184" does not need to be refreshed
2026-01-14 23:42:32 [REQUEST] [eafc3496-a6b4-626a-0000-003a7f000001] 200 0 3774978659329245184 127.0.0.1 POST /api/v1/tokens/refresh.json 1ms
2026-01-14 23:42:46 [INFO] [eafc3496-a6bb-627c-0000-003e7f000001] [tokens.TokenRefreshHandler] token of user "uid:3774978659329245184" does not need to be refreshed
2026-01-14 23:42:46 [REQUEST] [eafc3496-a6bb-627c-0000-003e7f000001] 200 0 3774978659329245184 127.0.0.1 POST /api/v1/tokens/refresh.json 35ms
2026-01-14 23:42:50 [INFO] [eafc3496-a6bd-6284-0000-00427f000001] [tokens.TokenRefreshHandler] token of user "uid:3774978659329245184" does not need to be refreshed
2026-01-14 23:42:50 [REQUEST] [eafc3496-a6bd-6284-0000-00427f000001] 200 0 3774978659329245184 127.0.0.1 POST /api/v1/tokens/refresh.json 13ms
2026-01-14 23:42:52 [REQUEST] [eafc3496-a6be-6285-0000-00467f000001] 200 0 3774978659329245184 127.0.0.1 GET /api/v1/transaction/templates/list.json?templateType=2 1ms
2026-01-14 23:43:21 [INFO] [eafc3496-a6cc-62a4-0000-004a7f000001] [tokens.TokenRefreshHandler] token of user "uid:3774978659329245184" does not need to be refreshed
2026-01-14 23:43:21 [REQUEST] [eafc3496-a6cc-62a4-0000-004a7f000001] 200 0 3774978659329245184 127.0.0.1 POST /api/v1/tokens/refresh.json 2ms
2026-01-14 23:43:21 [REQUEST] [eafc3496-a6cc-e2a5-0000-004e7f000001] 200 0 3774978659329245184 127.0.0.1 GET /api/v1/transaction/templates/list.json?templateType=2 4ms
2026-01-14 23:45:00 [INFO] [cron-job-createscheduledtransaction-1768405500] [cron_job.doRun] run job "CreateScheduledTransaction" successfully, cost 2ms
2026-01-14 23:49:03 [INFO] [eafc3496-a777-e43a-0000-00527f000001] [tokens.TokenRefreshHandler] token of user "uid:3774978659329245184" does not need to be refreshed
2026-01-14 23:49:03 [REQUEST] [eafc3496-a777-e43a-0000-00527f000001] 200 0 3774978659329245184 127.0.0.1 POST /api/v1/tokens/refresh.json 2ms
2026-01-14 23:49:16 [INFO] [eafc3496-a77e-6454-0000-00567f000001] [tokens.TokenRefreshHandler] token of user "uid:3774978659329245184" does not need to be refreshed
2026-01-14 23:49:16 [REQUEST] [eafc3496-a77e-6454-0000-00567f000001] 200 0 3774978659329245184 127.0.0.1 POST /api/v1/tokens/refresh.json 1ms
2026-01-14 23:49:17 [REQUEST] [eafc3496-a77e-e455-0000-005a7f000001] 200 0 3774978659329245184 127.0.0.1 GET /api/v1/transaction/templates/list.json?templateType=1 1ms
2026-01-14 23:52:20 [INFO] [eafc3496-a7da-6570-0000-005e7f000001] [tokens.TokenRefreshHandler] token of user "uid:3774978659329245184" does not need to be refreshed
2026-01-14 23:52:20 [REQUEST] [eafc3496-a7da-6570-0000-005e7f000001] 200 0 3774978659329245184 127.0.0.1 POST /api/v1/tokens/refresh.json 2ms
